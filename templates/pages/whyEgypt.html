{% extends 'base.html' %}
{% load static %}

{% block content %}
  <main>
    <section class="register_hero">
      <picture>
          <source media="(max-width: 767px)" srcset="{% static 'images/IC/egypt-mobile.webp' %}" />
          <source media="(min-width: 787px)" srcset="{% static 'images/IC/egypt-desktop.webp' %}" />
          <img src="{% static 'images/IC/egypt-desktop.webp' %}" alt="" width="100%"/>
        </picture>
    </section>

    <section class="culture">
      <div class="background-pattern">
      <div class="container" style="padding-bottom: 0; padding-top: 0;">
        <div class="culture-text"  data-aos="fade-right"
     data-aos-offset="300"
     data-aos-easing="ease-in-sine" data-aos-duration="1200">
          <h2>OUR <span>CULTURE</span></h2>
          <p>Egyptian culture, deeply rooted in history, centers around the Nile River, pyramids, and ancient hieroglyphics. Influenced by Islam, it features mosques and Arabic language. Traditional music, cuisine, and hospitality are essential aspects. A vibrant blend of ancient and contemporary, Egypt's culture is a unique and enduring tapestry.</p>
        </div>
        <div class="culture-image"  data-aos="fade-left"
     data-aos-offset="300"
     data-aos-easing="ease-in-sine" data-aos-duration="1200">
          <img src="{% static 'images/IC/whyEgyptHero/culture.webp' %}"  alt="">
          <!-- <div class="img-border"></div> -->
        </div>
      </div>
      </div>
    </section>

    <section class="culture">
      <div class="background-pattern">
      <div class="container"  style="padding-bottom: 0; padding-top: 0;">
        <div class="culture-image right1" data-aos="fade-right"
     data-aos-offset="300"
     data-aos-easing="ease-in-sine" data-aos-duration="1200">
          <img src="{% static 'images/IC/whyEgyptHero/food.webp' %}"  alt="">
          <!-- <div class="img-border"></div> -->
        </div>
        <div class="culture-text right2" data-aos="fade-left"
     data-aos-offset="300"
     data-aos-easing="ease-in-sine" data-aos-duration="1200">
          <h2>OUR <span>CUISINE</span></h2>
          <p>Egyptian cuisine boasts flatbreads, vegetables, lentils, and meats like lamb and chicken. Notable dishes include "koshari," "shawarma," and seafood-based "sayadieh." Spices like cumin and garlic, along with sweet treats like "baklava," define flavors. Traditional drinks are "karkadeh" and aromatic "shai" or "ahwa." Egypt's cuisine is a diverse and flavorful experience.</p>
        </div>
      </div>
      </div>
    </section>

    <section class="culture">
      <div class="background-pattern">
      <div class="container" style="padding-top: 0;">
        <div class="culture-text"  data-aos="fade-right"
     data-aos-offset="300"
     data-aos-easing="ease-in-sine" data-aos-duration="1200">
          <h2>OUR <span>HISTORY</span></h2>
          <p>Egypt's ancient civilization emerged around 3100 BCE, characterized by pyramids and hieroglyphs. It experienced Greek, Roman, and Islamic rule, followed by Ottoman and British influence. Independence in 1952 led to modern governance. Egypt's 5,000-year history encompasses ancient marvels, cultural diversity, and political transformations.</p>
        </div>
        <div class="culture-image" data-aos="fade-left"
     data-aos-offset="300"
     data-aos-easing="ease-in-sine" data-aos-duration="1200">
          <img src="{% static 'images/IC/whyEgyptHero/history.webp' %}"  alt="">
          <!-- <div class="img-border"></div> -->
        </div>
      </div>
      </div>
    </section>


    <section class="sldr vid-sldr">
      <div class="vid vid1 hide-video">
        <div class="blocker" data-id = "1"></div>
        <div class="vid-container">
          <button class="fas fa-play play-btn" id="myButton1" onclick="playCard(1)" data-dist = "aswan"></button>
          <video id="video" class="openCard video1" poster="{% static 'images/IC/Artboard 9 (1).webp' %} ">
            <source  id="mp4_1" type="video/mp4">
          </video>
        </div>
      </div>
      <div class="vid vid2 hide-video">
        <div class="blocker" data-id = "2"></div>
        <div class="vid-container">
          <button class="fas fa-play play-btn" id="myButton2" onclick="playCard(2)" data-dist = "cairo"></button>
          <video id="video" class="openCard video2" poster="{% static 'images/IC/Artboard 9 (1).webp' %} ">
            <source id="mp4_2" type="video/mp4">
          </video>
        </div>
      </div>
      <div class="vid vid3 hide-video">
        <div class="blocker" data-id = "3"></div>
        <div class="vid-container">
          <button class="fas fa-play play-btn" id="myButton3" onclick="playCard(3)" data-dist = "whiteDesert"></button>
          <video id="video" class="openCard video3" poster="{% static 'images/IC/Artboard 9 (1).webp' %} ">
            <source id="mp4_3" type="video/mp4">
          </video>
        </div>
      </div>
      <div class="vid vid4 hide-video">
        <div class="blocker" data-id = "4"></div>
        <div class="vid-container">
          <button class="fas fa-play play-btn" id="myButton4" onclick="playCard(4)" data-dist = "luxor"></button>
          <video id="video" class="openCard video4" poster="{% static 'images/IC/Artboard 9 (1).webp' %} ">
            <source id="mp4_4" type="video/mp4">
          </video>
        </div>
      </div>
      <div class="vid vid5 hide-video">
        <div class="blocker" data-id = "5"></div>
        <div class="vid-container">
          <button class="fas fa-play play-btn" id="myButton5" onclick="playCard(5)" data-dist = "catherine"></button>
          <video id="video" class="openCard video5" poster="{% static 'images/IC/Artboard 9 (1).webp' %} ">
            <source id="mp4_5" type="video/mp4">
          </video>
        </div>
      </div>
      <div class="vid vid6 hide-video">
        <div class="blocker" data-id = "6"></div>
        <div class="vid-container">
          <button class="fas fa-play play-btn" id="myButton6" onclick="playCard(6)" data-dist = "marsaAlam"></button>
          <video id="video" class="openCard video6" poster="{% static 'images/IC/Artboard 9 (1).webp' %} ">
            <source id="mp4_6" type="video/mp4">
          </video>
        </div>
      </div>
      <div class="vid vid7 hide-video">
        <div class="blocker" data-id = "7"></div>
        <div class="vid-container">
          <button class="fas fa-play play-btn" id="myButton7" onclick="playCard(7)" data-dist = "fayoum"></button>
          <video id="video" class="openCard video7" poster="{% static 'images/IC/Artboard 9 (1).webp' %} ">
            <source id="mp4_7" type="video/mp4">
          </video>
        </div>
      </div>
      <div class="vid vid8 hide-video">
        <div class="blocker" data-id = "8"></div>
        <div class="vid-container">
          <button class="fas fa-play play-btn" id="myButton8" onclick="playCard(8)" data-dist = "edfu"></button>
          <video id="video" class="openCard video8" poster="{% static 'images/IC/Artboard 9 (1).webp' %} ">
            <source id="mp4_8" type="video/mp4">
          </video>
        </div>
      </div>
      <div class="vid vid9 hide-video">
        <div class="blocker" data-id = "9"></div>
        <div class="vid-container">
          <button class="fas fa-play play-btn" id="myButton9" onclick="playCard(9)" data-dist = "dahab"></button>
          <video id="video" class="openCard video9" poster="{% static 'images/IC/Artboard 9 (1).webp' %} ">
            <source id="mp4_9" type="video/mp4">
          </video>
        </div>
      </div>
      <div class="vid vid10 hide-video">
        <div class="blocker" data-id = "10"></div>
        <div class="vid-container">
          <button class="fas fa-play play-btn" id="myButton10" onclick="playCard(10)" data-dist = "pyramids"></button>
          <video id="video" class="openCard video10" poster="{% static 'images/IC/Artboard 9 (1).webp' %} ">
            <source id="mp4_10" type="video/mp4">
          </video>
        </div>
      </div>
      <div class="container">
        <h2><span>DESTINATIONS</span> TO VISIT</h2>
        <div class="swiper mySwiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <div class="info">
                <p>Aswan</p>
                <button type="button" class="card-btn" id="aswan" data-id = "1">Watch</button>
              </div>
              <div class="card-shade"></div>
              <img src="{% static 'images/IC/whyEgyptHero/aswan_0.webp' %} " alt="Aswan" />        
            </div>
            <div class="swiper-slide">
              <div class="info">
                <p>Cairo</p>
                <button type="button" class="card-btn" id="cairo" data-id = "2" >Watch</button>
              </div>
              <div class="card-shade"></div>
              <img src="{% static 'images/IC/whyEgyptHero/cairo.webp' %}" alt="Cario" />        
            </div>
            <div class="swiper-slide">
              <div class="info">
                <p>White Desert</p>
                <button type="button" class="card-btn" id="whiteDesert" data-id = "3">Watch</button>
              </div>
              <div class="card-shade"></div>
              <img src="{% static 'images/IC/whyEgyptHero/white_desert.webp' %}" alt="White Desert" />        
            </div>
            <div class="swiper-slide">
              <div class="info">
                <p>Luxor</p>
                <button type="button" class="card-btn" id="luxor" data-id = "4">Watch</button>
              </div>
              <div class="card-shade"></div>
              <img src="{% static 'images/IC/whyEgyptHero/luxor.webp' %}" alt="Luxor" />        
            </div>
            <div class="swiper-slide">
              <div class="info">
                <p>St. Catherine</p>
                <button type="button" class="card-btn" id="catherine" data-id = "5">Watch</button>
              </div>
              <div class="card-shade"></div>
              <img src="{% static 'images/IC/whyEgyptHero/st.cathrine.webp' %}" alt="St. Cathrine" />        
            </div>
            <div class="swiper-slide">
              <div class="info">
                <p>Marsa Alam</p>
                <button type="button" class="card-btn" id="marsaAlam" data-id = "6">Watch</button>
              </div>
              <div class="card-shade"></div>
              <img src="{% static 'images/IC/whyEgyptHero/marsa_alm.webp' %}" alt="Marsa Alam" />        
            </div>
            <div class="swiper-slide">
              <div class="info">
                <p>Fayoum</p>
                <button type="button" class="card-btn" id="fayoum" data-id = "7">Watch</button>
              </div>
              <div class="card-shade"></div>
              <img src="{% static 'images/IC/whyEgyptHero/Fayoum.webp' %}" alt="Fayoum" />        
            </div>
            <div class="swiper-slide">
              <div class="info">
                <p>Edfu</p>
                <button type="button" class="card-btn" id="edfu" data-id = "8">Watch</button>
              </div>
              <div class="card-shade"></div>
              <img src="{% static 'images/IC/whyEgyptHero/edfu.webp' %}" alt="Edfu" />        
            </div>
            <div class="swiper-slide">
              <div class="info">
                <p>Dahab</p>
                <button type="button" class="card-btn" id="dahab" data-id = "9">Watch</button>
              </div>
              <div class="card-shade"></div>
              <img src="{% static 'images/IC/whyEgyptHero/dahab-asalah-coast.webp' %}" alt="Dahab" />        
            </div>
            <div class="swiper-slide">
              <div class="info">
                <p>Pyramids</p>
                <button type="button" class="card-btn" id="pyramids" data-id = "10">Watch</button>
              </div>
              <div class="card-shade"></div>
              <img src="{% static 'images/IC/whyEgyptHero/pyramids.webp' %}" alt="Pyramids" />        
            </div>
          </div>
        </div>
      </div>
    </section>
</main>
<img
  src="{% static 'images/IC/footer_pattern.webp' %}"
  alt=""
  class="footer-pattern"
/>
    <script>
      let cards = document.querySelectorAll('.card-btn');

      [...cards].forEach((card) => {
        card.addEventListener('click', () => {
          document.querySelector(`.vid${card.dataset.id}`).classList.remove('hide-video');
        });
      });

      let blockers = document.querySelectorAll('.blocker');
      [...blockers].forEach((blocker) => {
        blocker.addEventListener('click', () => {
          document.querySelector(`.vid${blocker.dataset.id}`).classList.add('hide-video');
          let video = document.querySelector(`.video${blocker.dataset.id}`);
          video.currentTime = 0;
          video.pause();
        })
      });


      function playCard(vid_id) {
        let video = document.querySelector(`.video${vid_id}`);
        let mp4 = document.getElementById(`mp4_${vid_id}`)
        let butt = document.getElementById(`myButton${vid_id}`);
        mp4.src = `https://whereitallbegins.aiesec.org.eg/assets/images/whyEgyptHero/videos/${butt.dataset.dist}.m4v`;
        console.log(mp4.src)
        butt.style.display = "none";
        video.controls = true;
        video.load();
        video.play();
      }
  </script>

  <script src="{% static 'vendors/swiperjs/swiper-bundle.min.js' %}"></script>
  <script src="{% static 'vendors/gsap/gsap.min.js' %}"></script>
  <script>
    if(window.screen.width > 767){
      const why = document.querySelectorAll(".why");
      why.forEach(el => {
        el.classList.remove('hide-video')
      })
    }
    const parallax_el = document.querySelectorAll(".parallax");

    let xValue = 0, yValue = 0;
    function update(){
      parallax_el.forEach(el => {
        let speedx = el.dataset.speedx;
        let speedy = el.dataset.speedy;
        el.style.transform = `translateX(calc(-50% + ${-xValue * speedx}px)) translateY(calc(-50% + ${yValue * speedy}px))`;
      })
    }

    update();
    if(window.screen.width > 767){
        window.addEventListener("mousemove", (e) => {
          if(timeline1.isActive()){return}

          xValue = e.clientX - window.innerWidth / 2;
          yValue = e.clientY - window.innerHeight / 2;

          update();
      })
    }

    if(window.screen.width <= 767){
      const text = document.querySelector('.text');
      window.addEventListener('scroll', () => {
          parallax_el.forEach(el => {
            let speedy = el.dataset.speedy;
            yValue = -window.scrollY - window.innerHeight / 2;
            update();
          })
      })
    }


    // GSAP Animation
    let timeline1 = gsap.timeline();

    timeline1.from(".text", {
      top: `90%`,
      duration: 2,
    })
  </script>
    <script>
    // slider 
    var swiper = new Swiper(".mySwiper", {
      effect: "coverflow",
      grabCursor: true,
      centeredSlides: true,
      loop: true,
      slidesPerView: "1",
      coverflowEffect: {
        rotate: 0,
        stretch: 0,
        depth: 100,
        modifier: 4,
        slideShadows: false
      },
      keyboard: {
        enabled: true
      },
      mousewheel: {
        thresholdDelta: 70
      },
      initialSlide: 0,
      on: {
        click(event) {
          swiper.slideTo(this.clickedIndex);
        }
      },
      breakpoints: {
        640: {
          slidesPerView: 2
        }
      }
    });

  </script>
  
  <!-- <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init();
  </script> -->
{% endblock content %}